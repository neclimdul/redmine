# Default setup is given for MySQL with ruby1.9. If you're running Redmine
# with MySQL and ruby1.8, replace the adapter name with `mysql`.
# Examples for PostgreSQL, SQLite3 and SQL Server can be found at the end.
# Line indentation must be 2 spaces (no tabs).

<% case node["redmine"]["db"]["type"] -%>
<% when "mysql", "mariadb" -%>
production:
  adapter: mysql2
  database: <%= node["redmine"]["db"]["dbname"] %>
  host: <%= node["redmine"]["db"]["hostname"] %>
  username: <%= node["redmine"]["db"]["user"] %>
  password: <%= node["redmine"]["db"]["password"] %>
  encoding: utf8
<% when "postgresql" -%>
production:
  adapter: postgresql
  database: <%= node["redmine"]["db"]["dbname"] %>
  host: <%= node["redmine"]["db"]["hostname"] %>
  username: <%= node["redmine"]["db"]["user"] %>
  password: <%= node["redmine"]["db"]["password"] %>
<% when "sqlite" -%>
production:
  adapter: sqlite3
  database: db/<%= node["redmine"]["db"]["dbname"] %>.sqlite3
<% when "sqlserver" -%>
production:
  adapter: sqlserver
  database: <%= node["redmine"]["db"]["dbname"] %>
  host: <%= node["redmine"]["db"]["hostname"] %>
  username: <%= node["redmine"]["db"]["user"] %>
  password: <%= node["redmine"]["db"]["password"] %>
<% end -%>
